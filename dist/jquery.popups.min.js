/* jQuery Popups - v1.0.0-RC1 - 2014-05-13
 * https://github.com/harris-miller/Popups
 * Copyright (c) 2014 Harris Miller
 * Licensed MIT 
 */

+function(a,b,c){function d(b){if(!b||!b[0])return{left:0,top:0};var c=b[0];return a.extend({},a.isFunction(c.getBoundingClientRect)?c.getBoundingClientRect():{width:c.offsetWidth,height:c.offsetHeight},b.offset())}function e(){var b=this.placement,c=l.exec(this.options.offset),d=this.$popup[0].offsetWidth,e=this.$popup[0].offsetHeight,f=0;return c||(c=l.exec(a.fn.popup.defaults.offset)),c&&c[1]&&(("right"===b||"left"===b)&&(f=e*(parseFloat(c[1])/100)),("top"===b||"bottom"===b)&&(f=d*(parseFloat(c[1])/100))),c&&c[2]&&(f+=parseFloat(c[2])),f}function f(){this.options.boundary||0===this.options.boundary||(this.options.boundary="0"),a.isNumeric(this.options.boundary)&&(this.options.boundary=this.options.boundary.toString());var b,c=this.options.boundary.split(" ");if(c.length<1||c>4)return{top:0,right:0,bottom:0,left:0};for(b=0;b<c.length;b++)c[b]=parseFloat(c[b])||0;switch(c.length){case 4:return{top:c[0],right:c[1],bottom:c[2],left:c[3]};case 3:return{top:c[0],right:c[1],bottom:c[2],left:c[1]};case 2:return{top:c[0],right:c[1],bottom:c[0],left:c[1]};case 1:return{top:c[0],right:c[0],bottom:c[0],left:c[0]};default:return{top:0,right:0,bottom:0,left:0}}}var g,h=a(c),i=a(b),j=a(b.body),k=0,l=/^(?:\+?(\-?\d+(?:\.\d+)?%))?(?:\+?(\-?\d+(?:\.\d+)?)(?:px)?)?$/,m=/flip/,n=/fit/,o=/top|bottom|middle/,p=/right|left|middle/,q=function(c,d){var e=d;this.options=e,this.$el=c,this.isShowing=!1,this.guid="popup"+ ++k,this.placement=e.placement.toLowerCase(),this.$attachTo=a(e.attachTo),this.boundary=f.call(this),this.$popup=a('<div class="popup-container">').addClass(e.classes),e.showArrow&&this.$popup.addClass("show-arrow"),this.$closeButton=e.showClose?a('<button class="popup-close" type="button"></button>').appendTo(this.$popup):null,this.$arrow=e.showArrow?a('<div class="popup-arrow"><div class="inner-arrow"></div></div>').appendTo(this.$popup):null,this.$closeButton&&this.$closeButton.on("click",a.proxy(this.hide,this)),e.container?a(e.container).append(c):a.contains(b.body,c.get(0))||j.append(c),c.after(this.$popup),this.$popup.append(c).hide(),this.$attachTo&&this.$attachTo.data("popup-ref",this.$el),h.on("resize."+this.guid,a.proxy(this.position,this)),c.trigger("create.popup"),e.autoShow&&this.show()};q.prototype.position=function(){if(this.isShowing){var a=this.placement,b=this.options,c=e.call(this),f=this.$popup[0].offsetWidth,j=this.$popup[0].offsetHeight,k=d(this.$attachTo),l={top:null,left:null},q=this.boundary;if("free"!==a&&"middle"!==a&&m.test(b.collision)){var r=[],s=!1,t=function(){return k.left+k.width+f>h.width()-q.right?!1:"right"},u=function(){return k.left-f<q.left?!1:"left"},v=function(){return k.top+k.height+j>i.scrollTop()+h.height()-q.bottom?!1:"bottom"},w=function(){return k.top-j<i.scrollTop()+q.top?!1:"top"};switch(a){case"right":r=[t,u];break;case"left":r=[u,t];break;case"bottom":r=[v,w];break;case"top":r=[w,v]}for(g=0;g<r.length&&(s=r[g](),s===!1);g++);s===!1&&(s="middle"),a=s}switch(this.$popup.removeClass("top bottom right left middle free").addClass(a),a){case"top":l={top:k.top-j-parseFloat(this.$popup.css("margin-bottom")),left:k.left+k.width/2-c};break;case"bottom":l={top:k.top+k.height+parseFloat(this.$popup.css("margin-top")),left:k.left+k.width/2-c};break;case"right":l={top:k.top+k.height/2-c,left:k.left+k.width+parseFloat(this.$popup.css("margin-left"))};break;case"left":l={top:k.top+k.height/2-c,left:k.left-f-parseFloat(this.$popup.css("margin-right"))};break;case"middle":l={top:i.scrollTop()+h.height()/2-j/2,left:h.width()/2-f/2};break;default:a="free"}if(n.test(b.collision)){var x;o.test(a)&&(l.left+f>h.width()-q.right&&(x=l.left+f-(h.width()-q.right),l.left-=x,c+=x),l.left<q.left&&(x=-l.left+q.left,l.left+=x,c-=x)),p.test(a)&&(l.top+j>i.scrollTop()+h.height()-q.bottom&&(x=l.top+j-(i.scrollTop()+h.height()-q.bottom),l.top-=x,c+=x),l.top<i.scrollTop()+q.top&&(x=i.scrollTop()-l.top+q.top,l.top+=x,c-=x))}if(this.$popup.offset(l),b.showArrow){var y=this.$arrow,z={top:null,left:null},A=parseFloat(this.$popup.css("border-top-width")),B=parseFloat(this.$popup.css("border-left-width"));switch(y.css({left:"",right:"",top:"",bottom:""}),a){case"top":z={bottom:-y.outerHeight(),left:-y.outerWidth()/2+c-B};break;case"bottom":z={top:-y.outerHeight(),left:-y.outerWidth()/2+c-B};break;case"right":z={top:-y.outerHeight()/2+c-A,left:-y.outerWidth()};break;case"left":z={top:-y.outerHeight()/2+c-A,right:-y.outerWidth()}}y.css(z)}return this.$el.trigger("positioned.popup"),a}},q.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.$el.trigger("show.popup"),this.$popup.show(),this.position(),this.$el.trigger("shown.popup"))},q.prototype.hide=function(){this.jqXHR&&"pending"===this.jqXHR.state()&&(this.jqXHR.abort(),this.destroy()),this.isShowing&&(this.$el.trigger("hide.popup"),this.isShowing=!1,this.$popup.hide(),this.$el.trigger("hidden.popup"),this.options.destroyOnHide&&this.destroy())},q.prototype.toggle=function(){return this.isShowing?this.hide():void this.show()},q.prototype.destroy=function(){this.$attachTo&&this.$attachTo.removeData("popup-ref"),h.off("resize."+this.guid),this.$el.off(".popup"),this.$el.trigger("destroy.popup"),this.$popup.remove()},q.prototype.setContent=function(a){this.$el.empty().append(a),this.position()};var r=a.fn.popup;a.fn.popup=function(b,c){var d=null;return this.each(function(){var e=a(this),f=e.data("popup");if(this.readyState&&this.promise){b.jqXHR=this;var g=a('<div class="popup-inner">').popup(b);return g.popup("$popup").addClass("loading"),this.always(function(){g.popup("$popup").removeClass("loading")}),d=g,!1}if(f)if("string"==typeof b){if(f[b]&&(d=a.isFunction(f[b])?f[b](c):f[b]),d)return!1}else!b||a.isPlainObject(b)?f.toggle():a.error("fn.popup says: Method or Property you are trying to access does not exist");else b=a.extend({},a.fn.popup.defaults,a.isPlainObject(b)&&b),e.data("popup",f=new q(e,b))}),d||this},a.popup=function(b,c){var d=a(b).first();return 0===d.length?(a.error("fn.popup says: selector returned zero results"),d):d.popup(c)},a.fn.popup.Constructor=q,a.fn.popup.defaults={attachTo:null,autoShow:!0,boundary:10,classes:null,collision:"flipfit",container:null,destroyOnHide:!1,offset:"50%",placement:"right",showArrow:!0,showClose:!0},a.fn.popup.noConflict=function(){return a.fn.popup=r,this}}(jQuery,document,window);
//# sourceMappingURL=jquery.popups.min.map